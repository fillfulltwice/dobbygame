<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üêï Dobby's Absurd Alchemy</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/themes.css">
</head>
<body>
    <div id="app" class="game-container">
        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-spinner"></div>
            <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã...</div>
            <div class="loading-subtext">Dobby –≥–æ—Ç–æ–≤–∏—Ç –±–µ–∑—É–º–∏–µ...</div>
        </div>

        <!-- Header -->
        <header class="header">
            <h1 class="game-title" data-i18n="game.title">üêï Dobby's Absurd Alchemy</h1>
            <p class="game-subtitle" data-i18n="game.subtitle">–°–æ–∑–¥–∞–≤–∞–π –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–µ —Å –ø–æ–º–æ—â—å—é –±–µ–∑—É–º–Ω–æ–≥–æ AI-–∞–ª—Ö–∏–º–∏–∫–∞!</p>
            <p data-i18n="game.powered_by">–ù–∞ –±–∞–∑–µ Sentient AI: dobby-unhinged-llama-3-3-70b</p>
            
            <!-- Language Switcher -->
            <div class="language-switcher">
                <button class="lang-btn active" data-lang="ru">RU</button>
                <button class="lang-btn" data-lang="en">EN</button>
            </div>
        </header>

        <!-- Stats Bar -->
        <div class="stats-bar" id="statsBar">
            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>

        <!-- Navigation Tabs -->
        <nav class="tabs" id="navigationTabs">
            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </nav>

        <!-- Main Content -->
        <main id="mainContent">
            <!-- Game Tab -->
            <div id="gameTab" class="tab-content active main-content">
                <!-- Inventory Panel -->
                <div class="panel" id="inventory">
                    <h3 class="panel-title" data-i18n="panels.inventory">üì¶ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
                    <div class="inventory-filters">
                        <button class="inventory-filter active" data-category="all">–í—Å–µ</button>
                        <button class="inventory-filter" data-category="basic">–ë–∞–∑–æ–≤—ã–µ</button>
                        <button class="inventory-filter" data-category="craftable">–°–æ–∑–¥–∞–Ω–Ω—ã–µ</button>
                    </div>
                    <input type="text" id="inventorySearch" class="inventory-search" placeholder="–ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤...">
                    <div class="inventory-grid" id="inventory-grid">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <!-- Crafting Panel -->
                <div class="panel" id="crafting">
                    <h3 class="panel-title" data-i18n="panels.crafting">üî® –ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è –∞–±—Å—É—Ä–¥–∞</h3>
                    <div class="crafting-slots" id="crafting-slots">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    <button class="btn btn-primary craft-button" id="craft-button" data-i18n="crafting.mix_button">
                        ‚ú® –°–º–µ—à–∞—Ç—å –±–µ–∑—É–º–∏–µ ‚ú®
                    </button>
                    <div class="crafting-hint" id="crafting-hint"></div>
                </div>
                
                <!-- Dobby Panel -->
                <div class="panel" id="dobby">
                    <h3 class="panel-title" data-i18n="panels.dobby">üêï Dobby AI Assistant</h3>
                    <div class="dobby-container">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
            
            <!-- Shop Tab -->
            <div id="shopTab" class="tab-content">
                <div class="panel" id="shop">
                    <h3 class="panel-title" data-i18n="panels.shop_title">üè™ Dobby Shop - –ú–∞–≥–∞–∑–∏–Ω –±–µ–∑—É–º–∏—è</h3>
                    <div class="shop-container">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
            
            <!-- Tree Tab -->
            <div id="treeTab" class="tab-content">
                <div class="panel">
                    <h3 class="panel-title">üå≥ –î—Ä–µ–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</h3>
                    <div class="tree-container">
                        <p style="text-align: center; font-size: 1.5em; margin-top: 50px;">üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üöß</p>
                        <p style="text-align: center;">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –∫—Ä–∞—Å–∏–≤–æ–µ –¥—Ä–µ–≤–æ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤!</p>
                    </div>
                </div>
            </div>
            
            <!-- Leaderboard Tab -->
            <div id="leaderboardTab" class="tab-content">
                <div class="panel">
                    <h3 class="panel-title" data-i18n="leaderboard.title">üèÜ –õ–∏–¥–µ—Ä–±–æ—Ä–¥</h3>
                    <div class="leaderboard-list" id="leaderboard-list">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
            
            <!-- Settings Tab -->
            <div id="settingsTab" class="tab-content">
                <div class="panel">
                    <h3 class="panel-title" data-i18n="tabs.settings">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                    <div class="settings-container">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
        </main>

        <!-- Modals -->
        <div id="modals">
            <!-- Welcome Modal -->
            <div id="welcomeModal" class="modal">
                <div class="modal-content welcome-content">
                    <h2 data-i18n="modals.welcome.title">üêï –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
                    <p data-i18n="modals.welcome.subtitle">–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç, —é–Ω—ã–π –∞–ª—Ö–∏–º–∏–∫?</p>
                    <input type="text" class="welcome-input" id="playerNameInput" data-i18n-placeholder="modals.welcome.name_placeholder">
                    <button class="btn btn-primary" id="startGameBtn" data-i18n="modals.welcome.start_button">
                        –ù–∞—á–∞—Ç—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ!
                    </button>
                </div>
            </div>
            
            <!-- Unlock Modal -->
            <div id="unlockModal" class="modal">
                <div class="modal-content">
                    <h2 data-i18n="modals.unlock.title">üéâ –ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –æ—Ç–∫—Ä—ã—Ç!</h2>
                    <div class="unlock-icon" id="unlock-icon"></div>
                    <h3 class="unlock-name" id="unlock-name"></h3>
                    <button class="btn btn-primary" id="closeUnlockBtn" data-i18n="modals.unlock.button">
                        –û—Ç–ª–∏—á–Ω–æ!
                    </button>
                </div>
            </div>
            
            <!-- Settings Modal -->
            <div id="settingsModal" class="modal">
                <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>

        <!-- Floating Messages -->
        <div id="floatingMessages"></div>
    </div>

    <!-- JavaScript Modules -->
    <script type="module">
        // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –≥–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        import { initializeApp } from './js/core/app.js';
        
        // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ DOM
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeApp);
        } else {
            // DOM —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω
            initializeApp();
        }
    </script>

    <!-- Fallback –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤ –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–æ–¥—É–ª–µ–π -->
    <script nomodule>
        document.body.innerHTML = `
            <div style="padding: 50px; text-align: center;">
                <h1>‚ö†Ô∏è –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è</h1>
                <p>–î–ª—è –∏–≥—Ä—ã —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ES6 –º–æ–¥—É–ª–µ–π.</p>
                <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Chrome, Firefox, Safari –∏–ª–∏ Edge.</p>
            </div>
        `;
    </script>
</body>
</html>